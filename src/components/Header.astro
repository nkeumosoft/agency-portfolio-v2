---
import { Image } from "astro:assets";
import logo from "../assets/images/logo.png";
import { Button } from "./ui/button";
import Toggle from "./Toggle.astro"; // Assume que c’est le menu hamburger
---

<div class="fixed top-0 left-0 w-full z-50 backdrop-blur-md bg-white/30">
  <header class="flex justify-between items-center px-4 md:px-8 py-2 md:py-4 max-w-screen-xl mx-auto">
    <!-- Logo -->
    <div class="w-20 h-20 md:w-28 md:h-28 flex-shrink-0">
      <img
        src={logo.src}
        alt="Company Logo"
        class="w-full h-full object-contain"
      />
    </div>

    <!-- Texte desktop uniquement -->
    <div class="hidden md:block font-neue text-sm md:text-base text-black">
      TRUST CONSULTING © 2025
    </div>

    <!-- Bouton + Menu Toggle -->
    <div class="flex items-center gap-4">
      <div class="hidden md:block">
        <Button
          variant="outline"
          className="rounded-full h-9 md:h-10 px-4 md:px-6 text-sm md:text-base border-black text-black"
        >
          Let's talk
        </Button>
      </div>
      <!-- Hamburger visible uniquement en mobile -->
      <div class="block md:disable">
        <Toggle />
      </div>
    </div>
  </header>
</div>

<script type="module">
  import { gsap, ScrollTrigger } from "@/utils/gsap";

  const anim = gsap.from('.header', {
    yPercent: -100,
    paused: true,
    ease: 'power1.out',
    duration: 1,
  }).progress(1);

  ScrollTrigger.create({
    start: 'top top',
    end: 'max',
    onUpdate: self => self.direction === -1 ? anim.play() : anim.reverse(),
  });
</script>
